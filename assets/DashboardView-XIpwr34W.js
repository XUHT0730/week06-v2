import{_ as m,g as a,c as k,a as n,b as c,w as r,d as o,h as f,j as g,k as V,r as i,o as l}from"./index-wT39d4Jo.js";var v={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"hedy-api-path",BASE_URL:"/week06-v2/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:d}=v,R={data(){return{checkSuccess:!1}},methods:{checkLogin(){const t=`${d}/api/user/check`;a.post(t).then(()=>{this.checkSuccess=!0,alert("驗證成功 歡迎光臨 ~")}).catch(e=>{alert(e.response.data.message),this.$router.push("/login")})},logOut(){const t=`${d}/logout`;a.post(t).then(e=>{document.cookie="myToken=;expires=;",alert(e.data.message),this.$router.push("/login")}).catch(e=>{console.log(e)})}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a.defaults.headers.common.Authorization=t,this.checkLogin()}},x=n("h2",null,"這是後台",-1);function $(t,e,w,E,h,u){const s=i("RouterLink"),p=i("RouterView");return l(),k("div",null,[x,n("nav",null,[c(s,{to:"/admin/products"},{default:r(()=>[o("後台產品列表")]),_:1}),o(" | "),c(s,{to:"/admin/order"},{default:r(()=>[o("訂單列表")]),_:1}),o(" | "),c(s,{to:"/"},{default:r(()=>[o("回到前台")]),_:1}),o(" | "),n("a",{href:"#",onClick:e[0]||(e[0]=f((..._)=>u.logOut&&u.logOut(..._),["prevent"]))},"登出")]),h.checkSuccess?(l(),g(p,{key:0})):V("",!0)])}const T=m(R,[["render",$]]);export{T as default};
