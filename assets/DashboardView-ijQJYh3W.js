import{_,c as m,a as r,b as a,w as c,d as o,g as k,i as f,j as g,r as i,o as u}from"./index-1yHoD3nX.js";var V={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"hedy-api-path",BASE_URL:"/week06-v2/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:l}=V,x={data(){return{checkSuccess:!1}},methods:{checkLogin(){const t=`${l}/api/user/check`;this.axios.post(t).then(()=>{this.checkSuccess=!0,alert("驗證成功 歡迎光臨 ~")}).catch(e=>{alert(e.response.data.message),this.$router.push("/login")})},logOut(){const t=`${l}/logout`;this.axios.post(t).then(e=>{document.cookie="myToken=;expires=;path=/",alert(e.data.message),this.$router.push("/login")}).catch(e=>{console.log(e)})}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=t,this.checkLogin()}},v=r("h2",null,"這是後台",-1);function R(t,e,$,w,h,n){const s=i("RouterLink"),d=i("RouterView");return u(),m("div",null,[v,r("nav",null,[a(s,{to:"/admin/products"},{default:c(()=>[o("後台產品列表")]),_:1}),o(" | "),a(s,{to:"/admin/order"},{default:c(()=>[o("訂單列表")]),_:1}),o(" | "),a(s,{to:"/"},{default:c(()=>[o("回到前台")]),_:1}),o(" | "),r("a",{href:"#",onClick:e[0]||(e[0]=k((...p)=>n.logOut&&n.logOut(...p),["prevent"]))},"登出")]),h.checkSuccess?(u(),f(d,{key:0})):g("",!0)])}const L=_(x,[["render",R]]);export{L as default};
