import{_,g as i,c as m,a as n,b as a,w as c,d as e,h as k,j as f,k as V,r as u,o as d}from"./index-iHxLAJp1.js";var g={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"hedy-api-path",BASE_URL:"/week06-v2/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:v}=g,R={data(){return{checkSuccess:!1}},methods:{checkLogin(){const t=`${v}/api/user/check`;i.post(t).then(()=>{this.checkSuccess=!0,alert("驗證成功 歡迎光臨 ~")}).catch(o=>{alert(o.response.data.message),this.$router.push("/login")})},signOut(){document.cookie="myToken=;expires=;",alert("token 已清除"),this.$router.push("/login")}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");i.defaults.headers.common.Authorization=t,this.checkLogin()}},x=n("h2",null,"這是後台",-1);function w(t,o,E,L,l,r){const s=u("RouterLink"),h=u("RouterView");return d(),m("div",null,[x,n("nav",null,[a(s,{to:"/admin/products"},{default:c(()=>[e("後台產品列表")]),_:1}),e(" | "),a(s,{to:"/admin/order"},{default:c(()=>[e("訂單列表")]),_:1}),e(" | "),a(s,{to:"/"},{default:c(()=>[e("回到前台")]),_:1}),e(" | "),n("a",{href:"#",onClick:o[0]||(o[0]=k((...p)=>r.signOut&&r.signOut(...p),["prevent"]))},"登出")]),l.checkSuccess?(d(),f(h,{key:0})):V("",!0)])}const $=_(R,[["render",w]]);export{$ as default};
